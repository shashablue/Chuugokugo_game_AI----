# HSK等級システム 実装テスト手順

## 🎯 テスト目的
HSK1級～6級システムが正常に動作することを確認し、語彙データの品質を検証する。

## ✅ 基本動作テスト

### 1. ゲーム起動確認
```bash
# ブラウザで以下を開く
open index.html
```

**確認項目:**
- [x] ページが正常に読み込まれる
- [x] "HSK1級〜6級で中国語をマスターしよう！" と表示される
- [x] 12個のレベルボタンが表示される（HSK1級〜6級、各2ボタン）

### 2. レベル選択テスト
**HSK1級ボタンのテスト:**
- [x] 「HSK1級: 基礎語彙」セクション表示
- [x] 「文字問題」ボタン（5問）
- [x] 「音声問題」ボタン（5問）

**確認手順:**
1. 「文字問題」ボタンをクリック
2. ゲーム画面に遷移
3. "HSK1級-文字"がヘッダーに表示
4. 「問題 1/5」と表示

### 3. 問題生成テスト
**文字問題:**
- [x] 中国語文字が表示される
- [x] ピンインが表示される
- [x] 4つの選択肢が日本語で表示される
- [x] HSK1級語彙から出題される

**音声問題:**
- [x] 音声プレーヤーが表示される
- [x] 自動再生が開始される
- [x] 「もう一度聞く」ボタンが機能する
- [x] 4つの選択肢が日本語で表示される

### 4. 語彙データテスト
```bash
# ブラウザで語彙確認ページを開く
open test_hsk.html
```

**確認項目:**
- [x] HSK1級: 150語表示
- [x] HSK2級以降: 各級の語彙数表示
- [x] 統計情報の正確性
- [x] 語彙の表示形式（中国語、ピンイン、日本語、品詞）

### 5. ペアレベル機能テスト
**手順:**
1. HSK1級文字問題を完了
2. 結果画面で「ペアレベル」ボタン確認
3. クリックするとHSK1級音声問題に遷移

**確認項目:**
- [x] レベル1→2、3→4、5→6...のペア関係
- [x] ペアレベルボタンの正しい表示

## 🔧 詳細機能テスト

### 6. 選択肢生成アルゴリズム
**デバッグコンソール確認:**
1. F12でDevToolsを開く
2. HSK1級問題をプレイ
3. コンソールログを確認

**期待される表示:**
```
=== 選択肢生成デバッグ ===
正解: 私
HSK等級: 1
等級内語彙数: 150
等級内語彙: [私, あなた, 彼, ...]
生成された間違い選択肢: [あなた, 彼, 彼女]
```

### 7. 語彙データ品質チェック
```bash
# Pythonツールでの検証（オプション）
cd tools
python vocabulary_builder.py stats
```

**確認項目:**
- [x] HSK1級: 150語
- [x] 品詞別分布の確認
- [x] 重複語彙なし

### 8. 音声合成テスト
**手順:**
1. HSK1級音声問題を開始
2. 自動再生を確認
3. 「もう一度聞く」ボタンをテスト

**確認項目:**
- [x] 中国語音声が再生される
- [x] 発音が適切（zh-CN設定）
- [x] 音声再生の停止・再開機能

## 🎮 ユーザー体験テスト

### 9. 学習フロー確認
**推奨学習順序:**
1. HSK1級文字問題 → HSK1級音声問題
2. HSK2級文字問題 → HSK2級音声問題
3. 以下同様に段階的に進行

### 10. パフォーマンステスト
**確認項目:**
- [x] ページ読み込み速度
- [x] 問題切り替えの反応速度
- [x] 音声再生の遅延なし
- [x] 150語の語彙データ読み込み速度

## 🐛 トラブルシューティング

### よくある問題と解決法

**問題1: 語彙が少ない**
- 現在HSK1級のみ150語実装済み
- HSK2級以降は段階的に実装予定

**問題2: 音声が再生されない**
- ブラウザの音声再生許可を確認
- HTTPS環境での実行推奨

**問題3: 選択肢が重複する**
- 語彙数が少ない等級で発生可能
- 他等級からの補完機能あり

**問題4: ペアレベルボタンが機能しない**
- イベントリスナーの確認
- レベル番号のペア設定確認

## 📊 テスト結果記録

### 実行日: ___________
### テスター: ___________

| テスト項目 | 結果 | 備考 |
|-----------|------|------|
| 基本起動 | ✅/❌ |  |
| HSK1級文字問題 | ✅/❌ |  |
| HSK1級音声問題 | ✅/❌ |  |
| 語彙データ表示 | ✅/❌ |  |
| ペアレベル機能 | ✅/❌ |  |
| 音声再生 | ✅/❌ |  |
| 選択肢生成 | ✅/❌ |  |

### 発見した問題:
1. ________________
2. ________________
3. ________________

### 改善提案:
1. ________________
2. ________________
3. ________________

---

## 🚀 次のステップ

テスト完了後の次の実装ステップ：

1. **HSK2級語彙追加** (150語)
2. **HSK3級語彙追加** (300語)  
3. **パフォーマンス最適化**
4. **追加機能実装**

## 📞 サポート

問題や質問がある場合は、以下のドキュメントを参照：
- `README_HSK.md` - システム全体説明
- `語彙拡充計画.md` - 今後の計画
- `tools/vocabulary_builder.py` - 語彙管理ツール 